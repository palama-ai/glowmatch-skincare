# ๐ธ Blog Image Upload Feature

## ูุณุชุฎูุต ุงูุจููุฒุฉ ุงูุฌุฏูุฏุฉ

ุชู ุฅุถุงูุฉ **ูุธุงู ุฑูุน ุงูุตูุฑ ูููุฏููุงุช** ุฅูู ูุงุฌูุฉ ุฅุฏุงุฑุฉ ุงููุฏููุงุช. ูููู ูููุณุคูููู ุงูุขู:
- โ ุฑูุน ุตูุฑ ูููุฏููุงุช ูุจุงุดุฑุฉ ูู ููุญุฉ ุงูุชุญูู
- โ ูุนุงููุฉ ุงูุตูุฑ ูุจู ุงูุญูุธ
- โ ุชุบููุฑ ุฃู ุญุฐู ุงูุตูุฑ
- โ ุนุฑุถ ุงูุตูุฑ ูู ูุงุฆูุฉ ุงููุฏููุงุช ูุตูุญุงุช ุงูุชูุงุตูู

---

## ุงูุชุบููุฑุงุช ุงูุชูููุฉ

### Backend (`backend/`)

#### 1. **db.js** - ุฅุถุงูุฉ ุนููุฏ ุงูุตูุฑุฉ
```javascript
// ุฌุฏูู blogs ุฃุถูู ูู ุงูุนููุฏ:
image_url TEXT  // URL ุงูุตูุฑุฉ (base64 ุฃู ุฑุงุจุท URL)
```

#### 2. **routes/admin.js** - ุชุญุฏูุซ Endpoints

- โ **POST `/admin/blogs`** - ุชุญุฏูุซ ูุญูุธ `image_url`
- โ **PUT `/admin/blogs/:id`** - ุชุญุฏูุซ ูุญูุธ `image_url`
- โ **POST `/admin/blogs/upload`** - ุฌุฏูุฏ ููุนุงูุฌุฉ ุฑูุน ุงูุตูุฑ

```javascript
POST /admin/blogs/upload
{
  image: "data:image/png;base64,..." // base64 ูู ุงูุตูุฑุฉ
}
Response:
{
  data: {
    image_url: "data:image/png;base64,..."
  }
}
```

---

### Frontend (`src/`)

#### 1. **pages/admin/Blogs.jsx** - ุชุนุฏูู ุงููููุฐุฌ

**ุฃุถููุช ุญุงูุงุช ุฌุฏูุฏุฉ:**
```javascript
const [uploadingImage, setUploadingImage] = useState(false);
const [imagePreview, setImagePreview] = useState('');
```

**ุฃุถููุช ุฏุงูุฉ ุฌุฏูุฏุฉ:**
```javascript
const handleImageUpload = async (e) => {
  // 1. ูุฑุงุกุฉ ุงูููู
  // 2. ุชุญููู ุฅูู base64
  // 3. ูุนุงููุฉ ุงูุตูุฑุฉ
}
```

**ุฃุถููุช ููููุงุช ุฌุฏูุฏุฉ ูู ุงูููุฑู:**
- ููุทูุฉ ุฑูุน ุงูุตูุฑ ูุน drag & drop UI
- ูุนุงููุฉ ุงูุตูุฑุฉ
- ุฃุฒุฑุงุฑ ุชุบููุฑ/ุญุฐู ุงูุตูุฑุฉ
- ูุคุดุฑ ุงูุชุญููู

#### 2. **pages/blog/index.jsx** - ุนุฑุถ ุงูุตูุฑ

```javascript
// ุงุณุชุฎุฏุงู blog.image_url ุจุฏูุงู ูู ุงูุตูุฑุฉ ุงูุงูุชุฑุงุถูุฉ
image: blog.image_url || IMAGES.blog_routine,
```

#### 3. **pages/blog/[slug].jsx** - ุตูุญุฉ ุงูุชูุงุตูู

**ููุฒุงุช ุฌุฏูุฏุฉ:**
- โ ุนุฑุถ ุงูุตูุฑุฉ ุงูุฑุฆูุณูุฉ (Featured Image)
- โ ูุนูููุงุช ุงููุฏููุฉ (ุงูุชุงุฑูุฎ ูููุช ุงููุฑุงุกุฉ)
- โ ุงูุชุจุงุณ ุงูููุฎุต (Excerpt)
- โ ุงููุญุชูู ุงููุงูู
- โ ุฑุงุจุท ุงูุนูุฏุฉ ุฅูู ูุงุฆูุฉ ุงููุฏููุงุช

```jsx
{post.image_url && (
  <img 
    src={post.image_url} 
    alt={post.title} 
    className="w-full h-96 object-cover rounded-xl mb-8"
  />
)}
```

---

## ููููุฉ ุงูุงุณุชุฎุฏุงู

### ูููุณุคูููู - ุฑูุน ุตูุฑุฉ ูุฏููุฉ

1. ุงุฐูุจ ุฅูู `/admin/blogs`
2. ุงููุฑ ุนูู "Create Blog" ุฃู ุนุฏูู ูุฏููุฉ ููุฌูุฏุฉ
3. ูู ูุณู "Blog Image":
   - ุงุถุบุท ุนูู ููุทูุฉ ุงูุฑูุน
   - ุงุฎุชุฑ ููู ุตูุฑุฉ (PNG, JPG, GIF)
4. ูุนุงููุฉ ุงูุตูุฑุฉ
5. ุงุถุบุท "Create Blog" ุฃู "Update Blog"

### ูููุณุชุฎุฏููู - ุนุฑุถ ุงูุตูุฑ

- **ูุงุฆูุฉ ุงููุฏููุงุช**: ุชุธูุฑ ุตูุฑ ูุตุบุฑุฉ ุจุฌุงูุจ ุนููุงู ูู ูุฏููุฉ
- **ุตูุญุฉ ุงูุชูุงุตูู**: ุชุธูุฑ ุงูุตูุฑุฉ ุงูุฑุฆูุณูุฉ ูู ุงูุฃุนูู

---

## ูููุงุช ูุนุฏูุฉ

| ุงูููู | ุงูููุน | ุงูุชุบููุฑุงุช |
|------|-------|----------|
| `backend/db.js` | DB Schema | ุฅุถุงูุฉ ุนููุฏ `image_url` |
| `backend/routes/admin.js` | API | ุชุญุฏูุซ POST/PUT/POST upload |
| `src/pages/admin/Blogs.jsx` | Component | ุฅุถุงูุฉ ุนูุตุฑ ุฑูุน ุงูุตูุฑ |
| `src/pages/blog/index.jsx` | Component | ุงุณุชุฎุฏุงู ุตูุฑ ุงููุฏููุงุช |
| `src/pages/blog/[slug].jsx` | Component | ุนุฑุถ ุงูุตูุฑ ูู ุงูุชูุงุตูู |

---

## ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก

- โ ุงูุชุญูู ูู ููุน ุงูููู (ูุฌุจ ุฃู ูููู ุตูุฑุฉ)
- โ ูุนุงูุฌุฉ ุงููููุงุช ุงููุจูุฑุฉ
- โ ุฑุณุงุฆู ุฎุทุฃ ูุงุถุญุฉ ุนูุฏ ุงููุดู

---

## ููุงุญุธุงุช ูููุฉ

### ุงูุชุฎุฒูู ุงูุญุงูู
ุงูุตูุฑ ุชูุญูุธ ูู **base64** ูุจุงุดุฑุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช. ูุฐุง ููุงุณุจ ููุชุทููุฑ ููู ูุฏ ูููู ุซููู ูู ุงูุฅูุชุงุฌ.

### ููุฅูุชุงุฌ (Production)
ูููุตุญ ุจู:
1. ุฑูุน ุงูุตูุฑ ุฅูู **AWS S3** ุฃู **Cloudinary**
2. ุญูุธ ุงูุฑุงุจุท ููุท ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
3. ุชุญุณูู ุญุฌู ุงูุตูุฑ (Compression)

### ุงูุญุฏ ุงูุฃูุตู ููุตูุฑ
ุญุงููุงู ูุง ููุฌุฏ ุญุฏ - ูููุตุญ ุจุฅุถุงูุฉ:
```javascript
// ูู frontend
const MAX_FILE_SIZE = 10 * 1024 * 1024; // 10MB
if (file.size > MAX_FILE_SIZE) {
  setError('Image must be less than 10MB');
}
```

---

## ุงูุฎุทูุงุช ุงูุชุงููุฉ

- [ ] ุชุญุณูู ุญุฌู ุงูุตูุฑ ุชููุงุฆูุงู
- [ ] ุฅุถุงูุฉ ุชุฃุซูุฑุงุช ุจุตุฑูุฉ (filters)
- [ ] ุฏุนู ุตูุฑ ูุชุนุฏุฏุฉ ููู ูุฏููุฉ
- [ ] ุฑุจุท ูุน ุฎุฏูุฉ ุชุฎุฒูู ุณุญุงุจู
- [ ] ุฅุถุงูุฉ ุตูุฑ ูุนุงููุฉ (thumbnails)

---

## ุงูุฏุนู ูุงูุงุณุชูุดุงู

ุฅุฐุง ูุงุฌูุช ูุดุงูู:

1. **ุงูุตูุฑุฉ ูุง ุชุธูุฑ**: ุชุญูู ูู ูููุฉ `image_url` ูู ุงูู Database
2. **ุฎุทุฃ ุนูุฏ ุงูุฑูุน**: ุงูุชุญ F12 ูุชุญูู ูู console errors
3. **ุงูุตูุฑุฉ ุจุทูุฆุฉ**: ูุฏ ุชููู ูุจูุฑุฉ ุฌุฏุงู - ุงุถุบุทูุง ุฃููุงู

---

**ุชู ุงูุชุญุฏูุซ:** 27 ููููุจุฑ 2025 โจ
